import tkinter as tk
from tkinter import filedialog
from tkinter import Canvas
from PIL import Image, ImageTk

class ImageApp:
    def __init__(self, root):
        self.root = root
        self.root.title('Image Dot Mover')

        self.canvas = Canvas(root)
        self.canvas.pack(fill=tk.BOTH, expand=tk.YES)

        self.canvas.bind("<Button-1>", self.place_dot)
        self.canvas.bind("<B1-Motion>", self.move_dot)

        menu = tk.Menu(root)
        root.config(menu=menu)

        file_menu = tk.Menu(menu)
        menu.add_cascade(label="File", menu=file_menu)
        file_menu.add_command(label="Open...", command=self.open_image)
        file_menu.add_command(label="Exit", command=root.quit)

        self.image = None
        self.photo = None
        self.dot = None

    def open_image(self):
        file_path = filedialog.askopenfilename()
        if not file_path:
            return

        image = Image.open(file_path)
        self.photo = ImageTk.PhotoImage(image)
        
        self.canvas.config(scrollregion=self.canvas.bbox(tk.ALL))
        self.canvas.create_image(0, 0, anchor=tk.NW, image=self.photo)
        
    def place_dot(self, event):
        if self.dot:
            self.canvas.delete(self.dot)
        self.dot = self.canvas.create_oval(event.x - 5, event.y - 5, event.x + 5, event.y + 5, fill='red')
        
    def move_dot(self, event):
        if self.dot:
            self.canvas.delete(self.dot)
            self.dot = self.canvas.create_oval(event.x - 5, event.y - 5, event.x + 5, event.y + 5, fill='red')

if __name__ == "__main__":
    root = tk.Tk()
    root.geometry('800x600')
    app = ImageApp(root)
    root.mainloop()
  
